{
    "properties": {
        "category": "SAPFunctions",
        "displayName": "SAPUsersGetVIP",
        "query": "// let SearchForTags= split('Sensitive; Super', ';');\r\n// // let SearchForTags= todynamic('All Tags');\r\n// let SpecialFocusTags = split('SpecialAttention; SoonToLeave', ';');\r\n\r\n_GetWatchlist('SAP_User_Config')\r\n| summarize arg_max(LastUpdatedTimeUTC, *) by SearchKey\r\n// remove spaces\r\n| extend Tags = replace_string(Tags, ' ', '')\r\n| extend TagsList = split(Tags,\";\")\r\n| extend TagsIntersect = set_intersect(TagsList, SearchForTags)\r\n| extend SpecialFocusTagged = iff(array_length(set_intersect(TagsList, SpecialFocusTags)) > 0, true, false)\r\n| extend IntersectionSize = array_length(TagsIntersect)\r\n| where (IntersectionSize > 0 or tostring(SearchForTags) == 'All Tags' or SpecialFocusTagged == true)",
        "functionAlias": "SAPUsersGetVIP",
        "functionParameters": "SearchForTags:dynamic = dynamic('All Tags'), SpecialFocusTags:dynamic = dynamic([\"SoonToLeave\", \"SpecialAttention\"])",
        "version": "2.0.15",
        "etag": "*"
    },
    "name": "SAPUsersGetVIP",
    "type": "savedSearches",
    "apiVersion": "2020-08-01"
}