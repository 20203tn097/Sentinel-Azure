{
    "properties": {
        "category": "SAPFunctions",
        "displayName": "SAPXalPerformance",
        "query": "//generated function structure for custom log XalPerformance_CL \r\n//generated on 2023-02-26 \r\n//Sentinel4SAP solution version 2.0.56 \r\nlet Colors = dynamic (['Unclear','Green', 'Yellow', 'Red', 'Header',  'Footer']);\r\nlet D_XalPerformance_CL = datatable(TimeGenerated:datetime \r\n,MonitorName:string\r\n,MonitorSetName:string\r\n,MonitoringTypeName:string\r\n,ObjectName:string\r\n,RelevantMeasuredValue:real\r\n,DateOfRelevantMeasuredValue:string\r\n,TimeOfRelevantMeasuredValue:string\r\n,RelevantAlertStatus:real\r\n,LastReportedValue:real\r\n,AverageValueOfLastMinute:real\r\n,AverageValueOfLast5Minutes:real\r\n,AverageValueOfLast15Minutes:real\r\n,TotalValuesOfLastMinute:real\r\n,TotalValuesOfLast5Minutes:real\r\n,TotalValuesOfLast15Minutes:real\r\n,NumberOfMeasurementsAtLastMinute:real\r\n,NumberOfMeasurementsAtLast5Minutes:real\r\n,NumberOfMeasurementsAtLast15Minutes:real\r\n,MaxMeasuredValue:real\r\n,DateOfMaxMeasuredValue:string\r\n,TimeOfMaxMeasuredValue:string\r\n,MinMeasuredValue:real\r\n,DateOfMinMeasuredValue:string\r\n,TimeOfMinMeasuredValue:string\r\n,MTMCNAME:string\r\n,SystemID:string\r\n,Type:string\r\n)['1000-01-01T00:00:00Z','initialString','initialString','initialString','initialString',1.1111,'initialString','initialString',1.1111,1.1111,1.1111,1.1111,1.1111,1.1111,1.1111,1.1111,1.1111,1.1111,1.1111,1.1111,'initialString','initialString',1.1111,'initialString','initialString','initialString','initialString','initialString'];\r\nlet T_XalPerformance_CL = (XalPerformance_CL | project \r\nTimeGenerated = column_ifexists('TimeGenerated', '1000-01-01T00:00:00Z')\r\n,MonitorName = column_ifexists('MonitorName_s', 'initialString')\r\n,MonitorSetName = translate('[]\"','',column_ifexists('MonitorSetName_s', 'initialString'))\r\n,MonitoringTypeName = column_ifexists('MonitoringTypeName_s', 'initialString')\r\n,ObjectName = column_ifexists('ObjectName_s', 'initialString')\r\n,RelevantMeasuredValue = column_ifexists('RelevantMeasuredValue_d', 1.1111)\r\n,DateOfRelevantMeasuredValue = column_ifexists('DateOfRelevantMeasuredValue_s', 'initialString')\r\n,TimeOfRelevantMeasuredValue = column_ifexists('TimeOfRelevantMeasuredValue_s', 'initialString')\r\n,RelevantAlertStatus = column_ifexists('RelevantAlertStatus_d', 1.1111)\r\n,LastReportedValue = column_ifexists('LastReportedValue_d', 1.1111)\r\n,AverageValueOfLastMinute = column_ifexists('AverageValueOfLastMinute_d', 1.1111)\r\n,AverageValueOfLast5Minutes = column_ifexists('AverageValueOfLast5Minutes_d', 1.1111)\r\n,AverageValueOfLast15Minutes = column_ifexists('AverageValueOfLast15Minutes_d', 1.1111)\r\n,TotalValuesOfLastMinute = column_ifexists('TotalValuesOfLastMinute_d', 1.1111)\r\n,TotalValuesOfLast5Minutes = column_ifexists('TotalValuesOfLast5Minutes_d', 1.1111)\r\n,TotalValuesOfLast15Minutes = column_ifexists('TotalValuesOfLast15Minutes_d', 1.1111)\r\n,NumberOfMeasurementsAtLastMinute = column_ifexists('NumberOfMeasurementsAtLastMinute_d', 1.1111)\r\n,NumberOfMeasurementsAtLast5Minutes = column_ifexists('NumberOfMeasurementsAtLast5Minutes_d', 1.1111)\r\n,NumberOfMeasurementsAtLast15Minutes = column_ifexists('NumberOfMeasurementsAtLast15Minutes_d', 1.1111)\r\n,MaxMeasuredValue = column_ifexists('MaxMeasuredValue_d', 1.1111)\r\n,DateOfMaxMeasuredValue = column_ifexists('DateOfMaxMeasuredValue_s', 'initialString')\r\n,TimeOfMaxMeasuredValue = column_ifexists('TimeOfMaxMeasuredValue_s', 'initialString')\r\n,MinMeasuredValue = column_ifexists('MinMeasuredValue_d', 1.1111)\r\n,DateOfMinMeasuredValue = column_ifexists('DateOfMinMeasuredValue_s', 'initialString')\r\n,TimeOfMinMeasuredValue = column_ifexists('TimeOfMinMeasuredValue_s', 'initialString')\r\n,MTMCNAME = column_ifexists('MTMCNAME_s', 'initialString')\r\n,SystemID = column_ifexists('MTSYSID_s', 'initialString')\r\n,Type = column_ifexists('Type', 'initialString'));\r\nT_XalPerformance_CL | union isfuzzy= true (D_XalPerformance_CL  | where MonitorName != 'initialString')\r\n| extend UpdatedOn= iff(DateOfRelevantMeasuredValue startswith(\" \"), TimeGenerated, todatetime(strcat(DateOfRelevantMeasuredValue, TimeOfRelevantMeasuredValue)))\r\n| extend Color= Colors[toint(RelevantAlertStatus)]\r\n| extend MonitorSetName= substring(MonitorSetName, 4, strlen(MonitorSetName)-6)\r\n| summarize arg_max(TimeGenerated, *) by MonitorName, MonitorSetName, MonitoringTypeName, ObjectName, UpdatedOn\r\n| sort by MonitorName, MonitorSetName, ObjectName,MonitoringTypeName, UpdatedOn desc \r\n| extend MonitoringTypeNObject= strcat(MonitoringTypeName, ObjectName)\r\n| extend ReverseOrder= row_number(1, prev(MonitoringTypeNObject) != MonitoringTypeNObject)\r\n\r\n",
        "functionAlias": "SAPXalPerformance",
        "version": 2,
        "etag": "*"
    },
    "name": "SAPXalPerformance",
    "type": "savedSearches",
    "dependsOn": [
        "[variables('workspace-dependency')]"
    ],
    "apiVersion": "2022-10-01"
}