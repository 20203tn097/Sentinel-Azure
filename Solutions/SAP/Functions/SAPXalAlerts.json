{
    "properties": {
        "category": "SAPFunctions",
        "displayName": "SAPXalAlerts",
        "query": "//generated function structure for custom log XalAlerts_CL \r\n//generated on 2023-02-26 \r\n//Sentinel4SAP solution version 2.0.56 \r\nlet Colors = dynamic (['Unclear','Green', 'Yellow', 'Red', 'Header',  'Footer']);\r\nlet D_XalAlerts_CL = datatable(TimeGenerated:datetime \r\n,RC:real\r\n,ALSYSID:string\r\n,MSEGNAME:string\r\n,ALUNIQNUM:string\r\n,ALINDEX:string\r\n,ALERTDATE:string\r\n,ALERTTIME:string\r\n,DUMMYALIGN:string\r\n,SystemID:string\r\n,MTMCNAME:string\r\n,MTNUMRANGE:string\r\n,MTUID:string\r\n,MTCLASS:string\r\n,MTINDEX:string\r\n,EXTINDEX:string\r\n,VALUE:real\r\n,Severity:int\r\n,STATUS:real\r\n,OBJECTNAME:string\r\n,FIELDNAME:string\r\n,ClientID:string\r\n,USERID:string\r\n,GONEDATE:string\r\n,GONETIME:string\r\n,GONEDUMMY:string\r\n,REPORTEDBY:string\r\n,STATCHGDAT:string\r\n,STATCHGTIM:string\r\n,STATCHGDUM:string\r\n,STATCHGBY:string\r\n,TIMEOUTDAT:string\r\n,TIMEOUTTIM:string\r\n,TIMEOUTDUM:string\r\n,MSGCLASS:string\r\n,MSGID:string\r\n,MSGARG1:string\r\n,ARGTYPE1:string\r\n,MSGARG2:string\r\n,ARGTYPE2:string\r\n,MSGARG3:string\r\n,ARGTYPE3:string\r\n,MSGARG4:string\r\n,ARGTYPE4:string\r\n,MSGTEXT:string\r\n,MSG:string\r\n,MSCGLID:string\r\n,MonitorName:string\r\n,MonitorSetName:string\r\n,Type:string\r\n)['1000-01-01T00:00:00Z',1.1111,'initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString',1.1111,1,1.1111,'initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString','initialString'];\r\nlet T_XalAlerts_CL = (XalAlerts_CL | project \r\nTimeGenerated = column_ifexists('TimeGenerated', '1000-01-01T00:00:00Z')\r\n,RC = column_ifexists('RC_d', 1.1111)\r\n,ALSYSID = column_ifexists('ALSYSID_s', 'initialString')\r\n,MSEGNAME = column_ifexists('MSEGNAME_s', 'initialString')\r\n,ALUNIQNUM = column_ifexists('ALUNIQNUM_s', 'initialString')\r\n,ALINDEX = column_ifexists('ALINDEX_s', 'initialString')\r\n,ALERTDATE = column_ifexists('ALERTDATE_s', 'initialString')\r\n,ALERTTIME = column_ifexists('ALERTTIME_s', 'initialString')\r\n,DUMMYALIGN = column_ifexists('DUMMYALIGN_s', 'initialString')\r\n,SystemID = column_ifexists('MTSYSID_s', 'initialString')\r\n,MTMCNAME = column_ifexists('MTMCNAME_s', 'initialString')\r\n,MTNUMRANGE = column_ifexists('MTNUMRANGE_s', 'initialString')\r\n,MTUID = column_ifexists('MTUID_s', 'initialString')\r\n,MTCLASS = column_ifexists('MTCLASS_s', 'initialString')\r\n,MTINDEX = column_ifexists('MTINDEX_s', 'initialString')\r\n,EXTINDEX = column_ifexists('EXTINDEX_s', 'initialString')\r\n,VALUE = column_ifexists('VALUE_d', 1.1111)\r\n,Severity = column_ifexists('Severity', 1)\r\n,STATUS = column_ifexists('STATUS_d', 1.1111)\r\n,OBJECTNAME = column_ifexists('OBJECTNAME_s', 'initialString')\r\n,FIELDNAME = column_ifexists('FIELDNAME_s', 'initialString')\r\n,ClientID = column_ifexists('MANDT_s', 'initialString')\r\n,USERID = column_ifexists('USERID_s', 'initialString')\r\n,GONEDATE = column_ifexists('GONEDATE_s', 'initialString')\r\n,GONETIME = column_ifexists('GONETIME_s', 'initialString')\r\n,GONEDUMMY = column_ifexists('GONEDUMMY_s', 'initialString')\r\n,REPORTEDBY = column_ifexists('REPORTEDBY_s', 'initialString')\r\n,STATCHGDAT = column_ifexists('STATCHGDAT_s', 'initialString')\r\n,STATCHGTIM = column_ifexists('STATCHGTIM_s', 'initialString')\r\n,STATCHGDUM = column_ifexists('STATCHGDUM_s', 'initialString')\r\n,STATCHGBY = column_ifexists('STATCHGBY_s', 'initialString')\r\n,TIMEOUTDAT = column_ifexists('TIMEOUTDAT_s', 'initialString')\r\n,TIMEOUTTIM = column_ifexists('TIMEOUTTIM_s', 'initialString')\r\n,TIMEOUTDUM = column_ifexists('TIMEOUTDUM_s', 'initialString')\r\n,MSGCLASS = column_ifexists('MSGCLASS_s', 'initialString')\r\n,MSGID = column_ifexists('MSGID_s', 'initialString')\r\n,MSGARG1 = column_ifexists('MSGARG1_s', 'initialString')\r\n,ARGTYPE1 = column_ifexists('ARGTYPE1_s', 'initialString')\r\n,MSGARG2 = column_ifexists('MSGARG2_s', 'initialString')\r\n,ARGTYPE2 = column_ifexists('ARGTYPE2_s', 'initialString')\r\n,MSGARG3 = column_ifexists('MSGARG3_s', 'initialString')\r\n,ARGTYPE3 = column_ifexists('ARGTYPE3_s', 'initialString')\r\n,MSGARG4 = column_ifexists('MSGARG4_s', 'initialString')\r\n,ARGTYPE4 = column_ifexists('ARGTYPE4_s', 'initialString')\r\n,MSGTEXT = column_ifexists('MSGTEXT_s', 'initialString')\r\n,MSG = column_ifexists('MSG_s', 'initialString')\r\n,MSCGLID = column_ifexists('MSCGLID_s', 'initialString')\r\n,MonitorName = column_ifexists('MonitorName_s', 'initialString')\r\n,MonitorSetName = column_ifexists('MonitorSetName_s', 'initialString')\r\n,Type = column_ifexists('Type', 'initialString')\r\n);\r\nlet XalAlerts= T_XalAlerts_CL | union isfuzzy= true (D_XalAlerts_CL);\r\nlet D_XalAlertsCompleted_CL = datatable(TimeGenerated:datetime \r\n,SystemID:string\r\n,MSEGNAME:string\r\n,ALUNIQNUM:string\r\n,ALINDEX:string\r\n,ALERTDATE:string\r\n,ALERTTIME:string\r\n,DUMMYALIGN:string\r\n,RC:real\r\n,RC_TEXT:string\r\n,Type:string\r\n)['1000-01-01T00:00:00Z','initialString','initialString','initialString','initialString','initialString','initialString','initialString',1.1111,'initialString','initialString'];\r\nlet T_XalAlertsCompleted_CL = (XalAlertsCompleted_CL | project \r\nTimeGenerated = column_ifexists('TimeGenerated', '1000-01-01T00:00:00Z')\r\n,SystemID = column_ifexists('ALSYSID_s', 'initialString')\r\n,MSEGNAME = column_ifexists('MSEGNAME_s', 'initialString')\r\n,ALUNIQNUM = column_ifexists('ALUNIQNUM_s', 'initialString')\r\n,ALINDEX = column_ifexists('ALINDEX_s', 'initialString')\r\n,ALERTDATE = column_ifexists('ALERTDATE_s', 'initialString')\r\n,ALERTTIME = column_ifexists('ALERTTIME_s', 'initialString')\r\n,DUMMYALIGN = column_ifexists('DUMMYALIGN_s', 'initialString')\r\n,RC = column_ifexists('RC_d', 1.1111)\r\n,RC_TEXT = column_ifexists('RC_TEXT_s', 'initialString')\r\n,Type = column_ifexists('Type', 'initialString'));\r\nlet XalCompleted= T_XalAlertsCompleted_CL | union isfuzzy= true (D_XalAlertsCompleted_CL);\r\nXalAlerts | join kind=leftouter (XalCompleted | project ALUNIQNUM, ALINDEX, RC_TEXT, SystemID)\r\non ALUNIQNUM, ALINDEX, SystemID\r\n| where SystemID != 'initialString'\r\n| project-away ALUNIQNUM1, ALINDEX1, SystemID1\r\n| project-rename AlertCompletionStatus= RC_TEXT\r\n| extend UpdatedOn= todatetime(strcat(ALERTDATE, ALERTTIME))\r\n| extend Color= Colors[toint(VALUE)]\r\n| summarize arg_max(UpdatedOn, *) by SystemID, MSEGNAME, ALUNIQNUM, ALINDEX, OBJECTNAME, FIELDNAME, MonitorName, MonitorSetName\r\n",
        "functionAlias": "SAPXalAlerts",
        "version": 2,
        "etag": "*"
    },
    "name": "SAPXalAlerts",
    "type": "savedSearches",
    "dependsOn": [
        "[variables('workspace-dependency')]"
    ],
    "apiVersion": "2022-10-01"
}