{
    "id": "Authomize",
    "title": "Authomize Data Connector",
    "publisher": "Authomize",
    "descriptionMarkdown": "The Authomize Data Connector provides the capability to ingest custom log types from Authomize into Microsoft Sentinel.",
    "additionalRequirementBanner": "This data connector is not currently dependant on a parser. You will need to follow the steps to use the alias **Authomize_v2_CL** in queries and workbooks. [Follow steps to get this log event file](https://github.com/Azure/Azure-Sentinel/tree/master/Solutions/Authomize/Data%20Connectors/readme.md)",
    "graphQueries": [
      {
        "metricName": "Total data received",
        "legend": "Authomize_v2_CL",
        "baseQuery": "Authomize_v2_CL"
      }
    ],
    "sampleQueries": [
      {
        "description" : "Top 10 most active users",
        "query": "Authomize_v2_CL\n | summarize count() by user\n | top 10 by count_"
      },
      {
        "description" : "Top 10 resources accessed",
        "query": "Authomize_v2_CL\n | summarize count() by resource\n | top 10 by count_"
      }
    ],
    "dataTypes": [
      {
        "name": "Authomize_v2_CL",
        "lastDataReceivedQuery": "Authomize_v2_CL\n            | summarize TimeGenerated=max(TimeGenerated)"
      }
    ],
    "connectivityCriterias": [
      {
        "type": "IsConnectedQuery",
        "value": [
          "Authomize_v2_CL\n            | summarize LastLogReceived=max(TimeGenerated)\n            | project ConnectionState=iff(LastLogReceived > ago(30d), 'Connected', 'Disconnected')"
        ]
      }
    ],
    "availability": {
      "status": 1,
      "isPreview": true
    },
    "permissions": {
      "resourceProvider": [
        {
          "provider": "Microsoft.OperationalInsights/workspaces",
          "permissionsDisplayText": "read and write permissions on the workspace are required.",
          "providerDisplayName": "Workspace",
          "scope": "Workspace",
          "requiredPermissions": {
            "read": true,
            "write": true,
            "delete": false
          }
        }
      ]
    },
    "instructionSteps": [
      {
        "title": "1. Securely store your Authomize API key",
        "description": "<Instructions on securely storing Authomize API key>"
      },
      {
        "title": "2. Deploy the Authomize data connector",
        "description": "<Instructions on deploying the data connector to ingest data from Authomize>"
      },
      {
        "title": "3. Deploy the Kusto Function",
        "description": "<Instructions on deploying the Kusto Function to parse data>"
      }
    ],
    "metadata": {
      "version": "1.0.0",
      "kind": "dataConnector"
    }
  }
  